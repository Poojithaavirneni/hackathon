import{r as s,g as u,R as e}from"./index-DQpXCTSR.js";import{a as g}from"./api-EJ8FY_IZ.js";function p(){const[t,m]=s.useState({name:"",email:"",rating:5,message:""}),[o,l]=s.useState(null);s.useEffect(()=>{u().then(a=>{a&&m(n=>({...n,name:a.name||n.name,email:a.email||n.email}))}).catch(()=>{})},[]);function r(a,n){m(i=>({...i,[a]:n}))}function c(a){a.preventDefault(),l("sending"),g({name:t.name,email:t.email,rating:Number(t.rating),message:t.message}).then(()=>{l("thanks"),m({name:t.name,email:t.email,rating:5,message:""}),setTimeout(()=>l(null),3e3)}).catch(()=>l("error"))}return e.createElement("div",null,e.createElement("h2",null,"Feedback"),e.createElement("p",null,"Help us improve StuHealth — your feedback is anonymous unless you provide contact details."),e.createElement("section",{className:"card",style:{maxWidth:720}},e.createElement("form",{onSubmit:c,className:"feedback-form"},e.createElement("label",null,"Name"),e.createElement("input",{value:t.name,onChange:a=>r("name",a.target.value),placeholder:"Your name (optional)"}),e.createElement("label",null,"Email"),e.createElement("input",{value:t.email,onChange:a=>r("email",a.target.value),placeholder:"Email (optional)"}),e.createElement("label",null,"Rating"),e.createElement("select",{value:t.rating,onChange:a=>r("rating",a.target.value)},e.createElement("option",{value:5},"5 — Excellent"),e.createElement("option",{value:4},"4 — Good"),e.createElement("option",{value:3},"3 — Okay"),e.createElement("option",{value:2},"2 — Poor"),e.createElement("option",{value:1},"1 — Terrible")),e.createElement("label",null,"Message"),e.createElement("textarea",{value:t.message,onChange:a=>r("message",a.target.value),placeholder:"How can we make StuHealth better?"}),e.createElement("div",{style:{marginTop:8}},e.createElement("button",{className:"primary"},"Send feedback"),o==="sending"&&e.createElement("span",{style:{marginLeft:8}},"Sending…"),o==="thanks"&&e.createElement("span",{style:{marginLeft:8,color:"#0a7"}},"Thanks — feedback sent"),o==="error"&&e.createElement("span",{style:{marginLeft:8,color:"#b00"}},"Error sending")))))}export{p as default};
